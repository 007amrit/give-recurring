(()=>{var e=window.Give_Recurring_Vars;jQuery(document).ready((function(i){var n={init:function(){var e=i(".recurring-setting-subfield-toggle");i("#excluded_gateways").chosen({width:"25em"}),e.each((function(){n.toggle_fields(i(this))})),e.on("change click",(function(){n.toggle_fields(i(this))})),this.saveButtonTriggered(),this.toggleSubscriptionReminders(),this.showHideOnReminders(),this.showHideOnNoticeState()},toggle_fields:function(e){var i=!1;if(e.is(":checked")&&(i=e.val()),!1===i)return!1;var n=e.parents(".give-recurring-enable-row").nextUntil(".give-recurring-enable-row");"enabled"===i?n.css("display","table-row"):n.hide()},saveButtonTriggered:function(){i(".give-settings-setting-page").on("click",".subscription-options-save-button",(function(){i(window).unbind("beforeunload")}))},toggleSubscriptionReminders:function(){i(".give-subscriber-notifications .give-email-notification-status").on("click",(function(){var n=i(this),t=n.data("id"),a=n.attr("data-status"),s=n.find(".dashicons"),o=n.next(".spinner"),d=n.hasClass("give-email-notification-enabled")&&"enabled"===a;i.ajax({url:ajaxurl,type:"POST",data:{status:a,notice_id:t,action:"give_toggle_reminder",nonce:e.email_notice_nonce},beforeSend:function(){n.hide(),o.addClass("is-active")}}).done((function(e){!0===e.success&&(d?(n.removeClass("give-email-notification-enabled").addClass("give-email-notification-disabled").attr("data-status","disabled"),s.removeClass("dashicons-yes").addClass("dashicons-no-alt"),n.show(),o.removeClass("is-active")):(n.removeClass("give-email-notification-disabled").addClass("give-email-notification-enabled").attr("data-status","enabled"),s.removeClass("dashicons-no-alt").addClass("dashicons-yes"),n.show(),o.removeClass("is-active")))}))}))},showHideOnReminders:function(){i('input[name="recurring_send_renewal_reminders"], input[name="recurring_send_expiration_reminders"]').on("change",(function(){var e=i(this),n=e.closest("tr").next("tr"),t=i('input[name="'.concat(e.get(0).name,'"]:checked')).val();"disabled"===t?n.hide():"enabled"===t&&n.show()})).change()},showHideOnNoticeState:function(){var e=i('input[name="custom-save-button"]'),n=i('input[name="save-notice-state-button"]');i('input[name="email_notice_state"]').on("change",(function(){var t=i(this).closest("tr").siblings("tr").not(":last-child"),a=i('input[name="email_notice_state"]:checked').val();"disabled"===a?(t.hide(),e.hide(),n.show()):"enabled"===a&&(t.show(),e.show(),n.hide())})).change()}};n.init()}))})();